{"ast":null,"code":"var _jsxFileName = \"D:\\\\gims\\\\gims\\\\src\\\\pages\\\\AdminLogin.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport NoEncryptionIcon from \"@material-ui/icons/NoEncryption\";\nimport { GoogleLogin } from \"react-google-login\";\nimport Axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport \"./AdminLogin.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst clientId = \"1097518907177-kd6c3vg04t96pq1vhj4o55g7d6gvbfqu.apps.googleusercontent.com\";\n\nconst AdminLogin = () => {\n  _s();\n\n  const [details, setDetails] = useState(null);\n  fetch(\"https://geolocation-db.com/json/0f761a30-fe14-11e9-b59f-e53803842572\").then(response => response.json()).then(data => setDetails(data));\n  let history = useHistory(); // const token=localStorage.getItem(\"admintoken\")\n  // if(token==null)\n  // {\n  // }\n  // else{\n  //     history.push({\n  //         pathname:'/'\n  //     })\n  // }\n\n  var onSigninSuccess = response => {\n    console.log(response);\n    Axios.get(\"http://localhost:3001/admin\").then(res => {\n      res.data.map((value, key) => {\n        // console.log(value.userEmail)\n        //console.log(response.profileObj.email)\n        if (response.profileObj.email === value.userEmail && value.userRole === \"ADMIN\") {\n          alert(\"Login Success\");\n          localStorage.setItem(\"admintoken\", response.profileObj.googleId);\n          localStorage.setItem(\"adminpic\", response.profileObj.imageUrl);\n          localStorage.setItem(\"aname\", response.profileObj.name);\n          history.push({\n            pathname: \"/adminpanel\"\n          });\n        } else {\n          history.push({\n            pathname: \"/adminlog\"\n          });\n        }\n      });\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container adminlog\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"alert text-danger title\",\n      children: [/*#__PURE__*/_jsxDEV(NoEncryptionIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), \"Admin\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"alert alert-danger\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"row\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-5\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-danger\",\n          style: {\n            fontStyle: \"italic\"\n          },\n          children: \"if you are not admin please dont try to Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-3\",\n        children: /*#__PURE__*/_jsxDEV(GoogleLogin, {\n          clientId: clientId,\n          buttonText: \"Admin Login\",\n          onSuccess: onSigninSuccess,\n          cookiePolicy: \"single_host_origin\",\n          className: \"btnGoogle\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-md-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"alert alert-danger\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"alert alert-secondary\",\n      style: {\n        textAlign: \"right\"\n      },\n      children: details && /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"list-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"list-group-item text-primary\",\n          children: [\"Location :\", \" \", `${details.city}, ${details.country_name}(${details.country_code})`]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          className: \"list-group-item text-danger\",\n          children: [\"IP: \", details.IPv4]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AdminLogin, \"Ut4Bf9hcN51ebozTYW4I/r/0Eyk=\", false, function () {\n  return [useHistory];\n});\n\n_c = AdminLogin;\nexport default AdminLogin;\n\nvar _c;\n\n$RefreshReg$(_c, \"AdminLogin\");","map":{"version":3,"sources":["D:/gims/gims/src/pages/AdminLogin.js"],"names":["React","useState","NoEncryptionIcon","GoogleLogin","Axios","useHistory","clientId","AdminLogin","details","setDetails","fetch","then","response","json","data","history","onSigninSuccess","console","log","get","res","map","value","key","profileObj","email","userEmail","userRole","alert","localStorage","setItem","googleId","imageUrl","name","push","pathname","fontStyle","textAlign","city","country_name","country_code","IPv4"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport NoEncryptionIcon from \"@material-ui/icons/NoEncryption\";\r\nimport { GoogleLogin } from \"react-google-login\";\r\nimport Axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport \"./AdminLogin.css\";\r\n\r\nconst clientId =\r\n  \"1097518907177-kd6c3vg04t96pq1vhj4o55g7d6gvbfqu.apps.googleusercontent.com\";\r\nconst AdminLogin = () => {\r\n  const [details, setDetails] = useState(null);\r\n\r\n  fetch(\"https://geolocation-db.com/json/0f761a30-fe14-11e9-b59f-e53803842572\")\r\n    .then((response) => response.json())\r\n    .then((data) => setDetails(data));\r\n\r\n  let history = useHistory();\r\n  // const token=localStorage.getItem(\"admintoken\")\r\n  // if(token==null)\r\n  // {\r\n\r\n  // }\r\n  // else{\r\n  //     history.push({\r\n  //         pathname:'/'\r\n  //     })\r\n  // }\r\n\r\n  var onSigninSuccess = (response) => {\r\n    console.log(response);\r\n\r\n    Axios.get(\"http://localhost:3001/admin\").then((res) => {\r\n      res.data.map((value, key) => {\r\n        // console.log(value.userEmail)\r\n        //console.log(response.profileObj.email)\r\n        if (\r\n          response.profileObj.email === value.userEmail &&\r\n          value.userRole === \"ADMIN\"\r\n        ) {\r\n          alert(\"Login Success\");\r\n\r\n          localStorage.setItem(\"admintoken\", response.profileObj.googleId);\r\n          localStorage.setItem(\"adminpic\", response.profileObj.imageUrl);\r\n          localStorage.setItem(\"aname\", response.profileObj.name);\r\n\r\n          history.push({\r\n            pathname: \"/adminpanel\",\r\n          });\r\n        } else {\r\n          history.push({\r\n            pathname: \"/adminlog\",\r\n          });\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"container adminlog\">\r\n      <p className=\"alert text-danger title\">\r\n        <NoEncryptionIcon />\r\n        Admin\r\n      </p>\r\n      <p className=\"alert alert-danger\"></p>\r\n      <div className=\"row\">\r\n        <div className=\"col-md-5\">\r\n          <p className=\"text-danger\" style={{ fontStyle: \"italic\" }}>\r\n            if you are not admin please dont try to Login\r\n          </p>\r\n        </div>\r\n        <div className=\"col-md-3\">\r\n          <GoogleLogin\r\n            clientId={clientId}\r\n            buttonText=\"Admin Login\"\r\n            onSuccess={onSigninSuccess}\r\n            cookiePolicy={\"single_host_origin\"}\r\n            className=\"btnGoogle\"\r\n          />\r\n        </div>\r\n        <div className=\"col-md-4\"></div>\r\n      </div>\r\n      <p className=\"alert alert-danger\"></p>\r\n      <div className=\"alert alert-secondary\" style={{ textAlign: \"right\" }}>\r\n        {details && (\r\n          <ul className=\"list-group\">\r\n            <li className=\"list-group-item text-primary\">\r\n              Location :{\" \"}\r\n              {`${details.city}, ${details.country_name}(${details.country_code})`}\r\n            </li>\r\n            <li className=\"list-group-item text-danger\">IP: {details.IPv4}</li>\r\n          </ul>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminLogin;\r\n"]},"metadata":{},"sourceType":"module"}